{% extends "pages/casino/base.html" %}

{% set hide_bg_cyber_grid = true %}

{% block title %}
Inicio
{% endblock %}

{% block base_content %}
<!-- Secci√≥n de presentaci√≥n -->
<div class="mt-5 animated-translateY">
    <!-- Contenido -->
    <div class="position-relative mb-0">
        <div class="hero-bg fade-in-gradient position-absolute"></div>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 col-md-10 col-xl-8">
                    <div class="fade-out-gradient animated-translateY">
                        <div id="logo" class="mx-auto"></div>
                    </div>
                    <div class="text-center mb-4">
                        <h2 class="hero-title animated-translateY">Bienvenido a LogBait</h2>
                        <div class="animated-translateY">
                            <p class="hero-subtitle mt-4">
                                Transforma tus conocimientos sobre el juego. Con LogBait, puedes convertirte en un experto apostador en un entorno seguro y educativo.
                            </p>
                            <a href="{{ url_for('flatpage', path='faq') }}" class="text-uppercase link-underline link-underline-opacity-0 link-underline-opacity-75-hover">
                                M√°s sobre LogBait<i class="fas fa-arrow-right ms-1"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-12 col-sm-11 col-md-8 col-lg-6 col-xl-5 col-xxl-4">
                    <div class="animated-translateY text-center mb-4">
                        {% if current_user.is_authenticated %}
                        <p class="mb-1 text-muted small">
                            Ya has iniciado sesi√≥n.
                        </p>
                        <a href="{{ url_for('dashboard.home') }}" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-home me-2"></i>Ir al Dashboard
                        </a>
                        {% else %}
                        <form action="{{ url_for('register.home') }}" method="get">
                            <div class="input-group">
                                <div class="form-floating">
                                    <input type="email" name="email" class="form-control" placeholder="nombre@example.com">
                                    <label for="floatingInput">Introduce tu correo electr√≥nico</label>
                                </div>
                                <button class="btn btn-primary" type="submit">
                                    <i class="d-none d-sm-inline fas fa-user-plus me-2"></i>Reg√≠strate
                                </button>
                            </div>
                        </form>
                        <p class="mt-2 mb-0">
                            ¬øYa tienes cuenta? <a href="{{ url_for('login.home') }}">Inicia sesi√≥n</a>
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pie del contenedor -->
    <div class="position-relative" style="min-height: 7em; margin-top: -1px;">
        <div class="hero-bg-bottom position-absolute"></div>
    </div>

    <!-- Bot√≥n de desplazamiento -->
    <div class="position-sticky text-center w-100" style="bottom: 1em; margin-top: -1.4em;">
        <a id="showContentButton" type="button" class="btn btn-primary btn-lg rounded-circle animated-rotate" style="aspect-ratio: 1 / 1; line-height: 2em;" href="#gamesSection">
            <i class="fa-solid fa-arrow-down"></i>
        </a>
    </div>
</div>

<div id="gamesSection" class="pt-4">
    {{ super() }}
</div></div>
{% endblock %}

{% block content %}
<!-- Secci√≥n de juegos -->
<div class="row g-4 mb-5 justify-content-center">
    <div class="col-12 text-center">
        <div class="animated-translateY">
            <h1 class="text-cyan">Nuestros Juegos</h1>
            <p class="hero-subtitle mt-4">
                Explora todos los juegos que LogBait te ofrece.
            </p>
        </div>
    </div>

    <!-- Blackjack -->
    <div class="col-12 col-lg-4 col-md-6">
        <div class="card hover-card clickable h-100 animated-rotate" data-game="blackjack">
            <img src="{{ url_for('static', filename='img/blackjack.jpeg') }}" alt="Blackjack" class="game-image">
            <div class="card-body text-center game-content">
                <h3 class="card-title game-title">Blackjack</h3>
                <p class="game-description">
                    Blackjack: el cl√°sico juego de cartas donde el objetivo es alcanzar 21 sin pasarse. Demuestra tu estrategia y reta al crupier en cada mano. ‚ô†Ô∏è‚ô¶Ô∏è
                </p>
            </div>
        </div>
    </div>

    <!-- Ruleta -->
    <div class="col-12 col-lg-4 col-md-6">
        <div class="card hover-card clickable h-100 animated-rotate" data-game="ruleta">
            <img src="{{ url_for('static', filename='img/ruleta.jpeg') }}" alt="Ruleta" class="game-image">
            <div class="card-body text-center game-content">
                <h3 class="card-title game-title">Ruleta</h3>
                <p class="game-description">
                    Ruleta: el ic√≥nico juego de casino donde la emoci√≥n gira sin parar. Apuesta a tu n√∫mero, color o combinaci√≥n favorita y mira c√≥mo la bola recorre el tambor hasta decidir tu suerte. üéØüí´ Perfecta mezcla de azar y estrategia, ideal para quienes disfrutan la adrenalina de cada giro y la posibilidad de grandes premios en cada ronda. üî¥‚ö´üí∞
                </p>
            </div>
        </div>
    </div>

    <!-- Coinflip -->
    <div class="col-12 col-lg-4 col-md-6">
        <div class="card hover-card clickable h-100 animated-rotate" data-game="coinflip">
            <img src="{{ url_for('static', filename='img/coinflip.jpeg') }}" alt="Coinflip" class="game-image">
            <div class="card-body text-center game-content">
                <h3 class="card-title game-title">Coinflip</h3>
                <p class="game-description">
                    Coinflip: un juego r√°pido y emocionante donde apuestas por cara o cruz. Simple pero lleno de adrenalina: elige tu lado, mira girar la moneda y descubre si la suerte est√° de tu parte. Perfecto para quienes buscan acci√≥n instant√°nea y resultados al momento.
                </p>
            </div>
        </div>
    </div>

    <!-- Poker -->
    <div class="col-12 col-xxl-3 col-lg-6 col-md-6">
        <div class="card hover-card clickable h-100 animated-rotate" data-game="poker">
            <img src="{{ url_for('static', filename='img/poker.jpeg') }}" alt="Poker" class="game-image">
            <div class="card-body text-center game-content">
                <h3 class="card-title game-title">P√≥ker</h3>
                <p class="game-description">
                    P√≥ker: el legendario juego de estrategia, habilidad y nervios de acero. Forma la mejor mano posible, apuesta con inteligencia y lee a tus oponentes para llevarte el bote. Ideal para quienes disfrutan de la t√°ctica y el desaf√≠o mental en cada ronda. ‚ô£Ô∏è‚ô•Ô∏è
                </p>
            </div>
        </div>
    </div>

    <!-- Carreras de Caballos -->
    <div class="col-12 col-xxl-3 col-lg-6 col-md-6">
        <div class="card hover-card clickable h-100 animated-rotate" data-game="horseracing">
            <img src="{{ url_for('static', filename='img/caballos.jpeg') }}" alt="Carreras de Caballos" class="game-image">
            <div class="card-body text-center game-content">
                <h3 class="card-title game-title">Carrera de caballos</h3>
                <p class="game-description">
                    Carrera de caballos: vive la emoci√≥n de las pistas apostando por tu corcel favorito. Observa la intensidad de cada tramo, siente la adrenalina en la recta final y celebra la victoria cuando tu caballo cruza la meta. üèáüí®
                </p>
            </div>
        </div>
    </div>

    <!-- Tragaperras -->
    <div class="col-12 col-xxl-3 col-lg-6 col-md-6">
        <div class="card hover-card clickable h-100 animated-rotate" data-game="slots">
            <img src="{{ url_for('static', filename='img/slots.jpeg') }}" alt="Tragaperras" class="game-image">
            <div class="card-body text-center game-content">
                <h3 class="card-title game-title">Tragaperras</h3>
                <p class="game-description">
                    Tragaperras: el cl√°sico de los casinos reinventado. Gira los rodillos, combina s√≠mbolos y descubre premios sorprendentes. Colores, sonido y emoci√≥n en cada tirada‚Ä¶ ¬°la suerte podr√≠a cambiarte en un segundo! üé∞‚ú®
                </p>
            </div>
        </div>
    </div>

    <!-- Quiniela -->
    <div class="col-12 col-xxl-3 col-lg-6">
        <div class="card hover-card clickable h-100 animated-rotate" data-game="quiniela">
            <img src="{{ url_for('static', filename='img/quiniela.jpeg') }}" alt="Quiniela deportiva" class="game-image">
            <div class="card-body text-center game-content">
                <h3 class="card-title game-title">Quiniela deportiva</h3>
                <p class="game-description">
                    Quiniela deportiva: el emocionante juego donde predices el resultado de los partidos. Selecciona tus equipos favoritos y sube la adrenalina mientras esperas el pitido final. Ideal para los aficionados al deporte que disfrutan de la estrategia y la anticipaci√≥n. üí™‚öΩüèÄ
                </p>
            </div>
        </div>
    </div>
</div>

<div class="row justify-content-center">
    <div class="col-12">
        <!-- Secci√≥n de desaf√≠o -->
        <div class="card translucent-card animated-translateY">
            {% if current_user.is_authenticated %}
            <div class="card-body text-center p-5">
                <h2 class="mb-3">Comienza a jugar</h2>
                <p>
                    Ya te has unido a nuestra plataforma y est√°s a un paso de comenzar: entra en el Dashboard para jugar, revisa tu progreso o configura tus datos.
                </p>
                <div class="mt-4">
                    <a href="{{ url_for('dashboard.home') }}" class="btn btn-primary btn-lg">
                        <i class="fas fa-home me-2"></i>Ir al Dashboard
                    </a>
                    <div class="d-flex flex-md-row flex-column justify-content-center gap-3 mt-4">
                        <a href="{{ url_for('estadisticas.home') }}" class="btn btn-outline-primary">Ver mis estad√≠sticas</a>
                        <a href="{{ url_for('perfil.home') }}" class="btn btn-outline-primary">Configurar perfil</a>
                    </div>
                </div>
            </div>
            {% else %}
            <div class="card-body text-center p-5">
                <h2 class="mb-3">¬øDesaf√≠as al azar?</h2>
                <p>
                    √önete a nuestra plataforma y descubre la emoci√≥n de nuestros juegos. Reg√≠strate ahora y recibe cr√©dito inicial para comenzar.
                </p>
                <div class="mt-4">
                    <a href="{{ url_for('register.home') }}" class="btn btn-primary btn-lg">
                        <i class="fas fa-user-plus me-2"></i>Reg√≠strate Ahora
                    </a>
                    <p class="mt-2 mb-0">¬øYa tienes cuenta? <a href="{{ url_for('login.home') }}">Inicia sesi√≥n</a></p>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>

<!-- Modal de descripci√≥n de juegos (Bootstrap) -->
<div class="modal fade" id="gameModal" tabindex="-1" aria-labelledby="modalGameTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalGameTitle">Juego</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <p id="modalGameDescription">Descripci√≥n del juego.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Cerrar</button>
        {% if current_user.is_authenticated %}
        <a type="button" class="btn btn-primary" href="{{ url_for('dashboard.home') }}">Ir al Dashboard</a>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<style>
:root {
    --simple-background: linear-gradient(90deg, #0a0a0f 0%, #151520 50%, #1a1a2e 100%);
}

.fade-out-gradient {
    mask-image: linear-gradient(rgb(0,0,0) 0%, rgba(0,0,0,0.7) 50%, rgba(0,0,0,0.0) 100%);
}

.fade-in-gradient {
    mask-image: linear-gradient(rgba(0,0,0, 0.0) 0%, rgba(0,0,0,0.3) 50%, rgb(0,0,0) 100%);
}

.hero-bg {
    inset: 0;
    background: var(--simple-background);
    z-index: -1;
}

.hero-bg-bottom {
    background: top/min(150%, 40em) no-repeat url(/static/img/index_hero_bg.png), var(--simple-background);
    inset: 0;
    border-bottom-left-radius: 80% 100%;
    border-bottom-right-radius: 80% 100%;
    box-shadow: var(--shadow-hologram);
    z-index: -2;
}

#logo {
    max-width: min(30em, 80%);
    background-image: var(--gradient-cyber);
    mask-size: cover;
    mask-repeat: no-repeat;
    mask-position: top;
    mask-mode: luminance;
    aspect-ratio: 9 / 4;
    align-content: end;
    mask-image: url({{ url_for('static', filename='img/logo.png') }});
    filter: hue-rotate(-60deg) brightness(125%);
    animation: hueShift 3s linear infinite alternate;
    transition: all 0.5s ease;
    cursor: zoom-in;
}

#logo:active {
    max-width: min(70vh, 95%);
    aspect-ratio: 1 / 1;
    cursor: zoom-out;
}

#showContentButton {
    animation: btnFloat 1s ease infinite alternate;
}

@keyframes hueShift {
    0% { filter: hue-rotate(-60deg) brightness(125%); }
    100% { filter: hue-rotate(60deg) brightness(125%); }
}

@keyframes btnFloat {
    0% { transform: translateY(-5px); }
    100% { transform: translateY(5px) }
}

.game-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
    display: block;
}
</style>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', () => {
    const gameModal = new bootstrap.Modal(document.getElementById('gameModal'));
    const modalTitle = document.getElementById('modalGameTitle');
    const modalDescription = document.getElementById('modalGameDescription');

    const gameCards = document.querySelectorAll('.clickable, .clickable'); // corrige posibles typos
    const gameDescriptions = {
        'blackjack': 'Blackjack: el cl√°sico juego de cartas donde el objetivo es alcanzar 21 sin pasarse. Demuestra tu estrategia y reta al crupier en cada mano. ‚ô†Ô∏è‚ô¶Ô∏è',
        'ruleta': 'Ruleta: el ic√≥nico juego de casino donde la emoci√≥n gira sin parar. Apuesta a tu n√∫mero, color o combinaci√≥n favorita y mira c√≥mo la bola recorre el tambor hasta decidir tu suerte. üéØüí´ Perfecta mezcla de azar y estrategia, ideal para quienes disfrutan la adrenalina de cada giro y la posibilidad de grandes premios en cada ronda. üî¥‚ö´üí∞',
        'coinflip': 'Coinflip: un juego r√°pido y emocionante donde apuestas por cara o cruz. Simple pero lleno de adrenalina: elige tu lado, mira girar la moneda y descubre si la suerte est√° de tu parte. Perfecto para quienes buscan acci√≥n instant√°nea y resultados al momento.',
        'poker': 'P√≥ker: el legendario juego de estrategia, habilidad y nervios de acero. Forma la mejor mano posible, apuesta con inteligencia y lee a tus oponentes para llevarte el bote. Ideal para quienes disfrutan de la t√°ctica y el desaf√≠o mental en cada ronda. ‚ô£Ô∏è‚ô•Ô∏è',
        'horseracing': 'Carrera de caballos: vive la emoci√≥n de las pistas apostando por tu corcel favorito. Observa la intensidad de cada tramo, siente la adrenalina en la recta final y celebra la victoria cuando tu caballo cruza la meta. üèáüí®',
        'slots': 'Tragaperras: el cl√°sico de los casinos reinventado. Gira los rodillos, combina s√≠mbolos y descubre premios sorprendentes. Colores, sonido y emoci√≥n en cada tirada‚Ä¶ ¬°la suerte podr√≠a cambiarte en un segundo! üé∞‚ú®',
        'quiniela': 'Quiniela Deportiva: el emocionante juego donde predices el resultado de los partidos. Selecciona tus equipos favoritos y sube la adrenalina mientras esperas el pitido final. Ideal para los aficionados al deporte que disfrutan de la estrategia y la anticipaci√≥n. üí™‚öΩüèÄ'
    };

    gameCards.forEach(card => {
        card.addEventListener('click', () => {
            const gameName = card.getAttribute('data-game');
            const title = card.querySelector('.game-title').textContent;

            modalTitle.textContent = title;
            modalDescription.textContent = gameDescriptions[gameName] || 'Descripci√≥n no disponible.';
            gameModal.show();
        });
    });
});
</script>
{% endblock %}
