{% extends "base_admin.html" %}

{% block content %}
<h1>ğŸ“‰ EstadÃ­sticas Avanzadas</h1>

<div class="row g-4 mt-4">
    <!-- Top Usuarios por Balance -->
    <div class="col-lg-6">
        <div class="card h-100 stat-card">
            <div class="card-header">
                ğŸ† Top 10 Usuarios por Balance
            </div>
            <div class="card-body">
                {% for usuario in top_usuarios_balance %}
                <div class="top-user">
                    <div>
                        <span class="user-rank">#{{ loop.index }}</span>
                        {{ usuario.username }}
                    </div>
                    <div class="user-balance {% if usuario.balance >= 0 %}positive{% else %}negative{% endif %}">
                        ${{ "%.2f"|format(usuario.balance) }}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Top Apostadores -->
    <div class="col-lg-6">
        <div class="card h-100 stat-card">
            <div class="card-header">
                ğŸ¯ Top 10 Apostadores
            </div>
            <div class="card-body">
                {% for apostador in top_apostadores %}
                <div class="top-user">
                    <div>
                        <span class="user-rank">#{{ loop.index }}</span>
                        {{ apostador.username }}
                    </div>
                    <div class="user-balance">
                        ${{ "%.2f"|format(apostador.total_apostado or 0) }}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <div class="col-12">
        <div class="card">
            <div class="card-header">
                ğŸ“ˆ EstadÃ­sticas Detalladas del Sistema
            </div>
            <div class="card-body">
                <div class="row g-4">
                    <div class="col-lg-6">
                        <h3>ğŸ® DistribuciÃ³n por Juegos</h3>
                        <p>AnÃ¡lisis de popularidad de cada juego</p>
                        <!-- AquÃ­ podrÃ­as agregar grÃ¡ficos con Chart.js -->
                    </div>
                    <div class="col-lg-6">
                        <h3>ğŸ“Š Rendimiento del Sistema</h3>
                        <p>MÃ©tricas de uso y performance</p>
                        <!-- AquÃ­ podrÃ­as agregar mÃ¡s estadÃ­sticas -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-12">
        <div class="card">
            <div class="card-header">
                ğŸ’¡ Recomendaciones del Sistema
            </div>
            <div class="card-body">
                <div style="background: rgba(0, 243, 255, 0.1); padding: 15px; border-radius: 10px; margin: 10px 0;">
                    <h4>ğŸ¯ Juegos MÃ¡s Populares</h4>
                    <p>Basado en el nÃºmero de apuestas, estos son los juegos mÃ¡s jugados:</p>
                    <!-- AquÃ­ podrÃ­as agregar anÃ¡lisis automÃ¡tico -->
                </div>
                <div style="background: rgba(0, 255, 136, 0.1); padding: 15px; border-radius: 10px; margin: 10px 0;">
                    <h4>ğŸ’° Usuarios Destacados</h4>
                    <p>Usuarios con mejor rendimiento en apuestas:</p>
                    <!-- AquÃ­ podrÃ­as agregar anÃ¡lisis de usuarios -->
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}