{% extends "base/base_casino.html" %}

{% block content %}
<div class="text-center mb-5">
    <h1>{{ page['title'] }}</h1>
    <p class="hero-subtitle">{{ page['description'] }}</p>
    {% if page.meta.get('note') %}
    <p>
        <em>{{ page.meta.note }}</em>
    <p>
    {% endif %}
</div>

{% set html = page.html %}
{% if page.meta.get("toc", True) %}
<div class="d-flex gap-5 flex-column flex-md-row-reverse">
    <!-- TOC sticky sidebar -->
    <nav class="flex-grow-0 flex-shrink-0 toc sticky-md-top" style="flex-basis: 25%; top: 6rem; max-height: calc(100vh - 6rem); overflow-y: auto;">
        <div class="card translucent-card">
            <div class="card-body">
                {% set headings = get_headings(html) %}
                <h5 class="mb-3 ps-2">Contenido</h5>
                <ul class="nav flex-column small" role="menu">
                    {% for item in headings recursive %}
                        <li class="nav-item">
                            <a class="nav-link py-1 px-2" href="#{{ item.link }}">
                                {{ item.text }}
                            </a>
                            {% if item.children %}
                                <ul class="nav flex-column ms-3" role="menu">
                                    {{ loop(item.children) }}
                                </ul>
                            {% endif %}
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main article -->
    <article class="flex-grow-1 content pe-md-4">
        {{ html | safe }}
    </article>
</div>

{% else %}
<article class="content">
    {{ html | safe }}
</article>
{% endif %}

{% endblock %}
